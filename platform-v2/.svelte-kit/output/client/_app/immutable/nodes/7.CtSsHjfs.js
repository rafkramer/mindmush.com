import{d as Ke,f as x,t as ce,s as y,a as p,c as Fe}from"../chunks/CrWmIGs7.js";import{p as Ve,s as i,c as l,r,n as U,t as E,g as e,u as k,a as Ee,f as F,d as ve,h as Oe,b as P}from"../chunks/IT3EpKRj.js";import{i as O,s as qe,a as Me}from"../chunks/D1N_oX3-.js";import{s as h,a as pe,e as we,i as De,r as ye}from"../chunks/DNuC7A3a.js";import{I as R,a as ke}from"../chunks/BKroYgKh.js";import{v as Ae}from"../chunks/BQ8b0Sla.js";import{s as Te}from"../chunks/CdPPWCzV.js";import{t as Ie}from"../chunks/5lEJ7jwK.js";import{g as He}from"../chunks/Xrxa2QLS.js";import{f as Pe}from"../chunks/C77aEFXB.js";import{B as Je}from"../chunks/a13RqEVw.js";import{S as Qe,G as Be,a as Ne}from"../chunks/3HVNLDwj.js";import{B as ue}from"../chunks/BQmtcL2g.js";import{M as We,P as Se,S as Xe}from"../chunks/Bq9pQbsU.js";var Ye=x('<img class="w-full h-full object-cover"/>'),Ze=x('<button class="relative w-full text-left bg-gradient-to-br from-white/[0.025] to-white/[0.015] border border-white/[0.05] rounded-2xl overflow-hidden transition-all duration-300 hover:border-indigo-500/30 hover:-translate-y-2 hover:scale-[1.01] hover:shadow-2xl hover:shadow-indigo-500/10 group"><div class="absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-0 group-hover:opacity-100 transition-opacity"></div> <div class="absolute inset-0 bg-gradient-to-b from-indigo-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div> <div class="p-6"><div class="flex justify-between items-start mb-4"><div><!></div> <div class="flex gap-1.5"><!> <!></div></div> <h3 class="text-lg font-semibold text-white mb-1"> </h3> <p class="text-xs text-white/45 mb-1"> </p> <div><span></span> </div></div> <div class="grid grid-cols-2 border-t border-white/[0.05] bg-black/20"><div class="p-4 text-center border-r border-white/[0.05]"><div class="text-[10px] text-white/45 uppercase tracking-wider mb-1"> </div> <div class="font-mono text-xl font-semibold text-white"> </div></div> <div class="p-4 text-center"><div class="text-[10px] text-white/45 uppercase tracking-wider mb-1">Profit</div> <div> </div></div></div></button>');function $e(Z,n){Ve(n,!0);const D=()=>Me(Te,"$settings",$),[$,ee]=qe();let T=k(()=>n.venture.expenses.reduce((c,u)=>c+u.amount,0)),_=k(()=>(n.venture.revenue||0)-e(T)),g=k(()=>n.venture.state==="building"||n.venture.state==="killed"?{status:"disabled",text:"API disabled"}:n.venture.type==="game"?n.venture.bundleId&&D().applovinApiKey?{status:"connected",text:"AppLovin"}:{status:"disconnected",text:"Not configured"}:n.venture.superwallKey?{status:"connected",text:"Superwall"}:{status:"disconnected",text:"Not configured"});var t=Ze();t.__click=function(...c){var u;(u=n.onclick)==null||u.apply(this,c)};var S=i(l(t),4),q=l(S),K=l(q),te=l(K);{var H=c=>{var u=Ye();E(()=>{pe(u,"src",n.venture.icon),pe(u,"alt",n.venture.name)}),p(c,u)},ae=c=>{var u=Fe(),X=F(u);{var w=f=>{Be(f,{size:24,class:"text-amber-300"})},Y=f=>{Ne(f,{size:24,class:"text-blue-300"})};O(X,f=>{n.venture.type==="game"?f(w):f(Y,!1)},!0)}p(c,u)};O(te,c=>{n.venture.icon?c(H):c(ae,!1)})}r(K);var J=i(K,2),M=l(J);{let c=k(()=>n.venture.type==="game"?"orange":"blue");Je(M,{get variant(){return e(c)},children:(u,X)=>{U();var w=ce();E(()=>y(w,n.venture.type==="game"?"Game":"App")),p(u,w)},$$slots:{default:!0}})}var B=i(M,2);Qe(B,{get state(){return n.venture.state}}),r(J),r(q);var A=i(q,2),re=l(A,!0);r(A);var I=i(A,2),ie=l(I,!0);r(I);var N=i(I,2),Q=l(N),le=i(Q);r(N),r(S);var s=i(S,2),o=l(s),d=l(o),v=l(d,!0);r(d);var m=i(d,2),j=l(m,!0);r(m),r(o);var z=i(o,2),V=i(l(z),2);let W;var ne=l(V,!0);r(V),r(z),r(s),r(t),E((c,u)=>{h(K,1,`w-14 h-14 rounded-xl flex items-center justify-center overflow-hidden border ${n.venture.icon?"bg-white/5":"bg-gradient-to-br"} ${n.venture.type==="game"&&!n.venture.icon?"from-amber-500/20 to-orange-500/25":""} ${n.venture.type==="app"&&!n.venture.icon?"from-blue-500/20 to-indigo-500/25":""} ${n.venture.type==="game"?"border-amber-500/20":"border-blue-500/20"} ${n.venture.icon?"border-white/10":""}`),y(re,n.venture.name),y(ie,n.venture.type==="game"?"Mobile Game":"Consumer App"),h(N,1,`flex items-center gap-1.5 text-[11px] mt-2 ${e(g).status==="connected"?"text-green-400":e(g).status==="disconnected"?"text-red-400":"text-white/45"}`),h(Q,1,`w-1.5 h-1.5 rounded-full ${e(g).status==="connected"?"bg-green-400 shadow-md shadow-green-400":e(g).status==="disconnected"?"bg-red-400":"bg-white/45"}`),y(le,` ${e(g).text??""}`),y(v,n.venture.type==="game"?"Revenue":"Proceeds"),y(j,c),W=h(V,1,"font-mono text-xl font-semibold",null,W,{"text-green-400":e(_)>=0,"text-red-400":e(_)<0}),y(ne,u)},[()=>Pe(n.venture.revenue||0),()=>Pe(e(_))]),p(Z,t),Ee(),ee()}Ke(["click"]);var et=x("<!> Add Venture",1),tt=x("<button> </button>"),at=x('<div class="text-center py-16 text-white/45"><p>No ventures found. Add your first venture to get started.</p></div>'),rt=x('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5"></div>'),it=x('<img alt="Icon" class="w-full h-full object-cover rounded-2xl"/>'),lt=x('<!> <span class="text-[9px] text-white/45 uppercase tracking-wider">Upload</span>',1),nt=x('<div class="p-6 space-y-5"><div class="flex gap-4"><div><label class="block text-[11px] font-semibold text-white/45 uppercase tracking-wider mb-2">Icon</label> <input type="file" accept="image/*" class="hidden" id="iconUpload"/> <label for="iconUpload" class="w-20 h-20 rounded-2xl bg-white/[0.035] border-2 border-dashed border-white/[0.05] flex flex-col items-center justify-center gap-1.5 cursor-pointer hover:border-indigo-500 hover:bg-indigo-500/5 transition-all"><!></label></div> <div class="flex-1"><!></div></div> <div><label class="block text-[11px] font-semibold text-white/45 uppercase tracking-wider mb-2">Type</label> <div class="grid grid-cols-2 gap-3"><label class="cursor-pointer"><input type="radio" class="hidden"/> <div><!> <span class="text-sm font-medium">Consumer App</span> <span>Superwall</span></div></label> <label class="cursor-pointer"><input type="radio" class="hidden"/> <div><!> <span class="text-sm font-medium">Mobile Game</span> <span>AppLovin</span></div></label></div></div> <div class="grid grid-cols-2 gap-4"><!> <!></div> <!> <!></div> <div class="flex justify-end gap-3 px-6 py-5 border-t border-white/[0.05] bg-black/20"><!> <!></div>',1),st=x('<div class="animate-fade-in"><div class="flex justify-between items-start mb-7"><div><h1 class="text-2xl font-semibold tracking-tight">Ventures</h1> <p class="text-sm text-white/45 mt-1">Manage your portfolio</p></div> <!></div> <div class="flex gap-2 mb-6 flex-wrap"></div> <!></div> <!>',1);function yt(Z,n){Ve(n,!0);const D=()=>Me(Ae,"$ventures",$),[$,ee]=qe(),T=[];let _=ve("all"),g=ve(!1),t=ve(Oe({name:"",type:"app",state:"building",revenue:0,studioEquity:100,bundleId:"",superwallKey:"",icon:""})),S=k(()=>e(_)==="all"?D():D().filter(s=>s.state===e(_)));const q=[{value:"all",label:"All"},{value:"building",label:"Building"},{value:"live",label:"Live"},{value:"scaling",label:"Scaling"},{value:"passive",label:"Passive"},{value:"killed",label:"Killed"}],K=[{value:"building",label:"Building (No API)"},{value:"live",label:"Live"},{value:"scaling",label:"Scaling"},{value:"passive",label:"Passive"},{value:"killed",label:"Killed (No API)"}];function te(s){const o=s.target;if(o.files&&o.files[0]){const d=new FileReader;d.onload=v=>{var m;e(t).icon=(m=v.target)==null?void 0:m.result},d.readAsDataURL(o.files[0])}}function H(){P(t,{name:"",type:"app",state:"building",revenue:0,studioEquity:100,bundleId:"",superwallKey:"",icon:""},!0)}function ae(){if(!e(t).name.trim()){Ie.show("Please enter a venture name","error");return}Ae.add({name:e(t).name.trim(),type:e(t).type,state:e(t).state,revenue:e(t).revenue,studioEquity:Math.min(100,Math.max(0,e(t).studioEquity)),bundleId:e(t).type==="game"?e(t).bundleId:void 0,superwallKey:e(t).type==="app"?e(t).superwallKey:void 0,icon:e(t).icon||void 0}),Ie.show("Venture added successfully","success"),P(g,!1),H()}function J(s){He(`/ventures/${s}`)}var M=st(),B=F(M),A=l(B),re=i(l(A),2);ue(re,{onclick:()=>P(g,!0),children:(s,o)=>{var d=et(),v=F(d);Se(v,{size:16}),U(),p(s,d)},$$slots:{default:!0}}),r(A);var I=i(A,2);we(I,21,()=>q,De,(s,o)=>{const d=k(()=>e(_)===e(o).value);var v=tt();v.__click=()=>P(_,e(o).value,!0);var m=l(v,!0);r(v),E(()=>{h(v,1,`px-4 py-2 text-xs font-medium rounded-full border transition-all duration-200 ${e(d)?"bg-indigo-500 border-indigo-500 text-white":"bg-white/5 border-white/10 text-white/45 hover:border-white/20 hover:text-white"}`),y(m,e(o).label)}),p(s,v)}),r(I);var ie=i(I,2);{var N=s=>{var o=at();p(s,o)},Q=s=>{var o=rt();we(o,21,()=>e(S),d=>d.id,(d,v)=>{$e(d,{get venture(){return e(v)},onclick:()=>J(e(v).id)})}),r(o),p(s,o)};O(ie,s=>{e(S).length===0?s(N):s(Q,!1)})}r(B);var le=i(B,2);We(le,{title:"Add New Venture",size:"lg",onclose:()=>P(g,!1),get open(){return e(g)},set open(s){P(g,s,!0)},children:(s,o)=>{var d=nt(),v=F(d),m=l(v),j=l(m),z=i(l(j),2);z.__change=te;var V=i(z,2),W=l(V);{var ne=a=>{var b=it();E(()=>pe(b,"src",e(t).icon)),p(a,b)},c=a=>{var b=lt(),L=F(b);Se(L,{size:20,class:"text-white/45"}),U(2),p(a,b)};O(W,a=>{e(t).icon?a(ne):a(c,!1)})}r(V),r(j);var u=i(j,2),X=l(u);R(X,{id:"ventureName",label:"Venture Name",placeholder:"Enter venture name",get value(){return e(t).name},set value(a){e(t).name=a}}),r(u),r(m);var w=i(m,2),Y=i(l(w),2),f=l(Y),C=l(f);ye(C),C.value=C.__value="app";var se=i(C,2),ge=l(se);{let a=k(()=>e(t).type==="app"?"text-indigo-400":"");Ne(ge,{size:24,get class(){return e(a)}})}var je=i(ge,4);r(se),r(f);var me=i(f,2),G=l(me);ye(G),G.value=G.__value="game";var oe=i(G,2),be=l(oe);{let a=k(()=>e(t).type==="game"?"text-indigo-400":"");Be(be,{size:24,get class(){return e(a)}})}var ze=i(be,4);r(oe),r(me),r(Y),r(w);var de=i(w,2),fe=l(de);Xe(fe,{id:"ventureState",label:"State",get options(){return K},get value(){return e(t).state},set value(a){e(t).state=a}});var Ce=i(fe,2);R(Ce,{id:"studioEquity",type:"number",label:"Studio Ownership (%)",placeholder:"100",min:0,max:100,get value(){return e(t).studioEquity},set value(a){e(t).studioEquity=a}}),r(de);var xe=i(de,2);R(xe,{id:"revenue",type:"number",label:"Current Revenue ($)",placeholder:"0",min:0,hint:"Enter existing revenue if migrating from another tracking system.",get value(){return e(t).revenue},set value(a){e(t).revenue=a}});var Ge=i(xe,2);{var Le=a=>{R(a,{id:"bundleId",label:"Bundle ID",placeholder:"com.studio.gamename",hint:"Required for AppLovin revenue tracking. Must match exactly.",get value(){return e(t).bundleId},set value(b){e(t).bundleId=b}})},Re=a=>{R(a,{id:"superwallKey",label:"Superwall API Key",placeholder:"pk_...",hint:"Required for proceeds tracking. Get this from Superwall dashboard.",get value(){return e(t).superwallKey},set value(b){e(t).superwallKey=b}})};O(Ge,a=>{e(t).type==="game"?a(Le):a(Re,!1)})}r(v);var he=i(v,2),_e=l(he);ue(_e,{variant:"ghost",onclick:()=>{P(g,!1),H()},children:(a,b)=>{U();var L=ce("Cancel");p(a,L)},$$slots:{default:!0}});var Ue=i(_e,2);ue(Ue,{onclick:ae,children:(a,b)=>{U();var L=ce("Add Venture");p(a,L)},$$slots:{default:!0}}),r(he),E(()=>{h(se,1,`flex flex-col items-center gap-2 p-5 rounded-xl border transition-all ${e(t).type==="app"?"bg-indigo-500/10 border-indigo-500 text-white":"bg-white/5 border-white/10 text-white/45"}`),h(je,1,`text-[10px] uppercase tracking-wider ${e(t).type==="app"?"text-indigo-400":""}`),h(oe,1,`flex flex-col items-center gap-2 p-5 rounded-xl border transition-all ${e(t).type==="game"?"bg-indigo-500/10 border-indigo-500 text-white":"bg-white/5 border-white/10 text-white/45"}`),h(ze,1,`text-[10px] uppercase tracking-wider ${e(t).type==="game"?"text-indigo-400":""}`)}),ke(T,[],C,()=>e(t).type,a=>e(t).type=a),ke(T,[],G,()=>e(t).type,a=>e(t).type=a),p(s,d)},$$slots:{default:!0}}),p(Z,M),Ee(),ee()}Ke(["click","change"]);export{yt as component};
