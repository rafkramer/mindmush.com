import{d as Jt,f as _,a as v,s as x,c as pt,t as Kt}from"../chunks/CrWmIGs7.js";import{p as Lt,t as h,a as Mt,b as U,c as r,s as o,d as ct,r as s,f as z,g as t,u as c,n as Ot}from"../chunks/IT3EpKRj.js";import{s as Qt,i as X,a as ut}from"../chunks/D1N_oX3-.js";import{e as xt,i as vt,s as Y,a as mt}from"../chunks/DNuC7A3a.js";import"../chunks/DQourb8u.js";import{v as Ut}from"../chunks/BQ8b0Sla.js";import{s as Xt}from"../chunks/B9pXLghy.js";import{f as g,g as ft,a as Yt}from"../chunks/C77aEFXB.js";import{s as Zt}from"../chunks/C8Ck3Pe-.js";import{t as Z}from"../chunks/5lEJ7jwK.js";import{S as G,C as te}from"../chunks/BzgM3b2k.js";import{B as ee}from"../chunks/BQmtcL2g.js";import{B as se}from"../chunks/a13RqEVw.js";import{S as re,G as ae,a as oe}from"../chunks/3HVNLDwj.js";import{g as ie}from"../chunks/Xrxa2QLS.js";import{R as ne,B as le,T as de}from"../chunks/DWaIkSVS.js";import{D as pe}from"../chunks/D4U8sIRc.js";import{W as ce}from"../chunks/CrumIDah.js";var ue=_("<button> </button>"),xe=_("<!> ",1),ve=_('<tr><td colspan="8" class="text-center py-12 text-white/45 text-sm">No ventures yet. Add your first venture to get started.</td></tr>'),me=_('<img class="w-full h-full object-cover"/>'),fe=_('<tr class="border-t border-white/[0.05] hover:bg-white/[0.02] cursor-pointer transition-colors"><td class="px-6 py-4"><div class="flex items-center gap-3"><div><!></div> <span class="text-sm font-medium text-white"> </span></div></td><td class="px-6 py-4"><!></td><td class="px-6 py-4"><!></td><td class="px-6 py-4 text-sm font-mono"> </td><td class="px-6 py-4 text-sm font-mono"> </td><td> </td><td class="px-6 py-4 text-sm"> </td><td class="px-6 py-4 text-sm font-mono"> </td></tr>'),ge=_('<div class="flex justify-between items-center px-6 py-5 border-b border-white/[0.05]"><h3 class="font-semibold">Portfolio</h3> <span class="text-xs text-white/45 bg-white/[0.035] px-2.5 py-1 rounded-full"> </span></div> <div class="overflow-x-auto"><table class="w-full"><thead><tr class="bg-black/20"><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Venture</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Type</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">State</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Revenue</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Expenses</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Profit</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Studio %</th><th class="text-left px-6 py-3.5 text-[10px] font-semibold text-white/45 uppercase tracking-wider">Studio Rev</th></tr></thead><tbody><!></tbody></table></div>',1),he=_('<div class="animate-fade-in"><div class="flex justify-between items-center mb-6 p-1.5 bg-white/[0.025] rounded-2xl border border-white/[0.05]"><div class="flex gap-1"></div> <div class="px-4 text-xs text-white/45"> </div></div> <div class="flex justify-between items-start mb-7"><div><h1 class="text-2xl font-semibold tracking-tight">Dashboard</h1> <p class="text-sm text-white/45 mt-1">Studio performance overview</p></div> <!></div> <div class="grid grid-cols-4 gap-4 mb-7"><!> <!> <!> <!></div> <!></div>');function Ge(gt,ht){Lt(ht,!0);const P=()=>ut(Ut,"$ventures",tt),_t=()=>ut(Xt,"$studioExpenses",tt),[tt,bt]=Qt();let k=ct(7),R=ct(!1),E=c(()=>{const{start:e,end:n}=ft(t(k));let i=0,l=0,f=0;P().forEach(u=>{const m=u.expenses.filter(D=>{const y=new Date(D.date);return y>=e&&y<=n}).reduce((D,y)=>D+y.amount,0);i+=u.revenue||0,l+=m,f+=(u.revenue||0)*(u.studioEquity/100)});const b=_t().filter(u=>{const m=new Date(u.date);return m>=e&&m<=n}).reduce((u,m)=>u+m.amount,0);l+=b;const T=f-b;return{totalRevenue:i,studioRevenue:f,totalExpenses:l,studioProfit:T}}),yt=c(()=>{if(t(k)==="all")return"All Time";const{start:e,end:n}=ft(t(k));return Yt(e,n)});async function wt(){U(R,!0);const e=await Zt();U(R,!1),e.errors>0?Z.show(`Synced ${e.updated} ventures, ${e.errors} errors`,"error"):e.updated>0?Z.show(`Synced ${e.updated} ventures successfully`,"success"):Z.show("No API-connected ventures to sync","error")}function $t(e){ie(`/ventures/${e}`)}var V=he(),N=r(V),W=r(N);xt(W,20,()=>[7,30,"all"],vt,(e,n)=>{var i=ue();i.__click=()=>U(k,n,!0);var l=r(i,!0);s(i),h(()=>{Y(i,1,`px-4 py-2.5 text-xs font-medium rounded-xl transition-all duration-200 ${t(k)===n?"bg-indigo-500 text-white":"text-white/45 hover:text-white hover:bg-white/5"}`),x(l,n==="all"?"All Time":`${n} Days`)}),v(e,i)}),s(W);var et=o(W,2),St=r(et,!0);s(et),s(N);var I=o(N,2),kt=o(r(I),2);ee(kt,{variant:"secondary",onclick:wt,get disabled(){return t(R)},children:(e,n)=>{var i=xe(),l=z(i);{let b=c(()=>t(R)?"animate-spin":"");ne(l,{size:16,get class(){return t(b)}})}var f=o(l);h(()=>x(f,` ${t(R)?"Syncing...":"Sync Data"}`)),v(e,i)},$$slots:{default:!0}}),s(I);var F=o(I,2),st=r(F);{let e=c(()=>g(t(E).totalRevenue));G(st,{label:"Total Revenue",get value(){return t(e)},get icon(){return pe},color:"purple"})}var rt=o(st,2);{let e=c(()=>g(t(E).studioRevenue));G(rt,{label:"Studio Revenue",get value(){return t(e)},get icon(){return le},color:"blue"})}var at=o(rt,2);{let e=c(()=>g(t(E).totalExpenses));G(at,{label:"Total Expenses",get value(){return t(e)},get icon(){return ce},color:"red"})}var Rt=o(at,2);{let e=c(()=>g(t(E).studioProfit)),n=c(()=>t(E).studioProfit>=0?"text-green-400":"text-red-400");G(Rt,{label:"Studio Profit",get value(){return t(e)},get icon(){return de},color:"green",get valueClass(){return t(n)}})}s(F);var Et=o(F,2);te(Et,{children:(e,n)=>{var i=ge(),l=z(i),f=o(r(l),2),b=r(f);s(f),s(l);var T=o(l,2),u=r(T),m=o(r(u)),D=r(m);{var y=w=>{var B=ve();v(w,B)},Dt=w=>{var B=pt(),Pt=z(B);xt(Pt,1,P,vt,(Tt,a)=>{const ot=c(()=>t(a).expenses.reduce((d,p)=>d+p.amount,0)),H=c(()=>(t(a).revenue||0)-t(ot)),Bt=c(()=>(t(a).revenue||0)*(t(a).studioEquity/100));var A=fe();A.__click=()=>$t(t(a).id);var J=r(A),it=r(J),j=r(it),At=r(j);{var jt=d=>{var p=me();h(()=>{mt(p,"src",t(a).icon),mt(p,"alt",t(a).name)}),v(d,p)},Ct=d=>{var p=pt(),q=z(p);{var $=S=>{ae(S,{size:16,class:"text-amber-300"})},Ht=S=>{oe(S,{size:16,class:"text-blue-300"})};X(q,S=>{t(a).type==="game"?S($):S(Ht,!1)},!0)}v(d,p)};X(At,d=>{t(a).icon?d(jt):d(Ct,!1)})}s(j);var nt=o(j,2),qt=r(nt,!0);s(nt),s(it),s(J);var K=o(J),zt=r(K);{let d=c(()=>t(a).type==="game"?"orange":"blue");se(zt,{get variant(){return t(d)},children:(p,q)=>{Ot();var $=Kt();h(()=>x($,t(a).type==="game"?"Game":"App")),v(p,$)},$$slots:{default:!0}})}s(K);var L=o(K),Gt=r(L);re(Gt,{get state(){return t(a).state}}),s(L);var M=o(L),Vt=r(M,!0);s(M);var O=o(M),Nt=r(O,!0);s(O);var C=o(O);let lt;var Wt=r(C,!0);s(C);var Q=o(C),It=r(Q);s(Q);var dt=o(Q),Ft=r(dt,!0);s(dt),s(A),h((d,p,q,$)=>{Y(j,1,`w-9 h-9 rounded-lg flex items-center justify-center overflow-hidden border ${t(a).icon?"":"bg-gradient-to-br"} ${t(a).type==="game"&&!t(a).icon?"from-amber-500/20 to-orange-500/25":""} ${t(a).type==="app"&&!t(a).icon?"from-blue-500/20 to-indigo-500/25":""} ${t(a).type==="game"?"border-amber-500/20":"border-blue-500/20"}`),x(qt,t(a).name),x(Vt,d),x(Nt,p),lt=Y(C,1,"px-6 py-4 text-sm font-mono",null,lt,{"text-green-400":t(H)>=0,"text-red-400":t(H)<0}),x(Wt,q),x(It,`${t(a).studioEquity??""}%`),x(Ft,$)},[()=>g(t(a).revenue||0),()=>g(t(ot)),()=>g(t(H)),()=>g(t(Bt))]),v(Tt,A)}),v(w,B)};X(D,w=>{P().length===0?w(y):w(Dt,!1)})}s(m),s(u),s(T),h(()=>x(b,`${P().length??""} ventures`)),v(e,i)},$$slots:{default:!0}}),s(V),h(()=>x(St,t(yt))),v(gt,V),Mt(),bt()}Jt(["click"]);export{Ge as component};
