var se=Object.defineProperty;var Y=s=>{throw TypeError(s)};var re=(s,e,r)=>e in s?se(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var j=(s,e,r)=>re(s,typeof e!="symbol"?e+"":e,r),F=(s,e,r)=>e.has(s)||Y("Cannot "+r);var n=(s,e,r)=>(F(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),C=(s,e,r,t)=>(F(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{G as K,V as te,W as T,X as ne,Y as $,Z as G,j as D,_ as ie,a0 as ae,a1 as fe,l as ue,k as ce,E as oe,a2 as le,a3 as de,a4 as he,a5 as pe,a6 as Z,o as q,a7 as _e,a8 as ve,b as V,m as be,g as w,D as Se,a9 as me,aa as I,ab as ge,ac as W,h as Pe,O as N,ad as we,M as ye,ae as Ee,af as Oe,ag as xe,y as Ae,x as Re,ah as Te,ai as De,aj as z,ak as H,U as P,al as X,am as J,an as Ie,ao as Me}from"./IT3EpKRj.js";var d,h,l,v,y,E,A;class Ne{constructor(e,r=!0){j(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,l,new Map);_(this,v,new Set);_(this,y,!0);_(this,E,()=>{var e=K;if(n(this,d).has(e)){var r=n(this,d).get(e),t=n(this,h).get(r);if(t)te(t),n(this,v).delete(r);else{var i=n(this,l).get(r);i&&(n(this,h).set(r,i.effect),n(this,l).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[a,u]of n(this,d)){if(n(this,d).delete(a),a===e)break;const f=n(this,l).get(u);f&&(T(f.effect),n(this,l).delete(u))}for(const[a,u]of n(this,h)){if(a===r||n(this,v).has(a))continue;const f=()=>{if(Array.from(n(this,d).values()).includes(a)){var p=document.createDocumentFragment();ae(u,p),p.append($()),n(this,l).set(a,{effect:u,fragment:p})}else T(u);n(this,v).delete(a),n(this,h).delete(a)};n(this,y)||!t?(n(this,v).add(a),ne(u,f,!1)):f()}}});_(this,A,e=>{n(this,d).delete(e);const r=Array.from(n(this,d).values());for(const[t,i]of n(this,l))r.includes(t)||(T(i.effect),n(this,l).delete(t))});this.anchor=e,C(this,y,r)}ensure(e,r){var t=K,i=fe();if(r&&!n(this,h).has(e)&&!n(this,l).has(e))if(i){var a=document.createDocumentFragment(),u=$();a.append(u),n(this,l).set(e,{effect:G(()=>r(u)),fragment:a})}else n(this,h).set(e,G(()=>r(this.anchor)));if(n(this,d).set(t,e),i){for(const[f,c]of n(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of n(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(n(this,E)),t.ondiscard(n(this,A))}else D&&(this.anchor=ie),n(this,E).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,y=new WeakMap,E=new WeakMap,A=new WeakMap;function Ce(s,e,r=!1){D&&ce();var t=new Ne(s),i=r?oe:0;function a(u,f){if(D){const p=le(s)===de;if(u===p){var c=he();pe(c),t.anchor=c,Z(!1),t.ensure(u,f),Z(!0);return}}t.ensure(u,f)}ue(()=>{var u=!1;e((f,c=!0)=>{u=!0,a(c,f)}),u||a(!1,null)},i)}let x=!1,M=Symbol();function Ke(s,e,r){const t=r[e]??(r[e]={store:null,source:_e(void 0),unsubscribe:q});if(t.store!==s&&!(M in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=q;else{var i=!0;t.unsubscribe=ve(s,a=>{i?t.source.v=a:V(t.source,a)}),i=!1}return s&&M in r?be(s):w(t.source)}function $e(){const s={};function e(){Se(()=>{for(var r in s)s[r].unsubscribe();me(s,M,{enumerable:!1,value:!0})})}return[s,e]}function Le(s){var e=x;try{return x=!1,[s(),x]}finally{x=e}}const Be={get(s,e){if(!s.exclude.includes(e))return w(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=N;try{H(s.parent_effect),s.special[e]=Ye({get[e](){return s.props[e]}},e,W)}finally{H(t)}}return s.special[e](r),z(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),z(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Ge(s,e){return new Proxy({props:s,exclude:e,special:{},version:Oe(0),parent_effect:N},Be)}const Ue={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(P(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];P(i)&&(i=i());const a=I(i,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(P(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=I(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===X||e===J)return!1;for(let r of s.props)if(P(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(P(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ze(...s){return new Proxy({props:s},Ue)}function Ye(s,e,r,t){var B;var i=!Re||(r&Te)!==0,a=(r&xe)!==0,u=(r&Ie)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?Ae(t):t),f),S;if(a){var Q=X in s||J in s;S=((B=I(s,e))==null?void 0:B.set)??(Q&&e in s?o=>s[e]=o:void 0)}var m,L=!1;a?[m,L]=Le(()=>s[e]):m=s[e],m===void 0&&t!==void 0&&(m=p(),S&&(i&&ge(),S(m)));var b;if(i?b=()=>{var o=s[e];return o===void 0?p():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},i&&!(r&W))return b;if(S){var k=s.$$legacy;return function(o,O){return arguments.length>0?((!i||!O||k||L)&&S(O?b():o),o):b()}}var R=!1,g=(r&De?ye:Ee)(()=>(R=!1,b()));a&&w(g);var ee=N;return function(o,O){if(arguments.length>0){const U=O?w(g):i&&a?Pe(o):o;return V(g,U),R=!0,f!==void 0&&(f=U),o}return Me&&R||ee.f&we?g.v:w(g)}}export{Ne as B,Ke as a,Ze as b,Ce as i,Ge as l,Ye as p,$e as s};
