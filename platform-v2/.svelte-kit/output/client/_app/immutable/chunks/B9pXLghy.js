import{w as d,e as a}from"./IT3EpKRj.js";const c="mindmush_studio_expenses";function l(){const i=localStorage.getItem(c),u=i?JSON.parse(i):[],n=d(u);return n.subscribe(e=>{localStorage.setItem(c,JSON.stringify(e))}),{subscribe:n.subscribe,add:e=>{const t={...e,id:Date.now().toString(36)+Math.random().toString(36).substr(2,5)};return n.update(r=>[...r,t]),t},delete:e=>{n.update(t=>t.filter(r=>r.id!==e))},total:a(n,e=>e.reduce((t,r)=>t+r.amount,0)),thisMonth:a(n,e=>{const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1);return e.filter(s=>new Date(s.date)>=r).reduce((s,o)=>s+o.amount,0)}),byCategory:a(n,e=>{const t={};return e.forEach(r=>{t[r.category]=(t[r.category]||0)+r.amount}),t}),filtered:(e,t)=>a(n,r=>r.filter(s=>{const o=new Date(s.date);return o>=e&&o<=t}))}}const m=l();export{m as s};
